# Handling and Treatment of Outliers
I have to be frank, the only time I thoroughly understood the concept of outliers was when I read Malcolm Gladwell's book: 'Outliers'. Although I have heard the word in my undergraduate statistics class but never made any impression on my mind. I wasn't lucky, my statistics lecturer taught the course purely on a theoritical level with little or no connection with reality or real-life experience and application!

Definitely, Gladwell in fact borrowed the concept from the field of statistics and so with the help of connection I gained a deeper understanding about one of the critical concept in statistics and by extension data science and machine learning!
Today's post will therefore dwell on the concept of outlier from the perspective of data preprocessing procedure in data science and machine learning.To this end we would cover:
- Meaning and definition of outlier from data science and machine learning perspective
- The implication of outlier in our dataset if not treated
- Practical ways to detect and handle outliers



> Outlier is a data point that differs significantly from other observations - Wikipedia

The above definition is quite apt and concise. From the angle of normal distribution and empirical rule, it is those data point which falls outside the three standard deviation of the mean. Care, however should be observed in order not to see the latter definition as a silver bullet. Outlier are quite amorphous therefore caution must be observed in our attempt to designate data points as outright outliers without further rigorious investigation.

There are situation where outliers serve as a critical data point in the dataset with respect to the objective of the analysis. For example a data set that shows the the supply of electricity as well as the related usage. If our objective is to  study the behaviour of users in view of determining suspicious usage, here the concept of outlier could come handy.
On the other hand outlier could outrightly be an 'experiment error' which should be treated else we risk erroneous interpretation and inference.

### Identifying Outliers
Just as knowing or identifying a problem is the first step toward its solution.Similarly in order to treat and handle outliers effectively we must have the means of detecting it.

- Detecting outliers through constructing a box plot
- Through the IQR proximity rule
- Through Z score calculation

Since we try to be as practical as possible, we shall illustrate  and demonstrate the above techniques with an example.

Under the IQR proximity rule, a value is an outlier if it falls outside this boundaries:

**upper_boundary = 75th quantile + (IQR *1.5)**
**lower_boundary = 25th quantile - (IQR * 1.5)**

*Where IQR  is calculated as  IQR = 75TH quantile - 25th quantile*
However for an extreme case outlier we would multiply IQR by 3 instead of 1.5

```python
import pandas as import pd
import matplotlib.pyplot as plt
import numpy as np
import seaborn as sns
from sklearn.dataset import load_boston
```

Load the Boston House Prices dataset from scikit-learn and retain three of its variable in the data frame

```python
bost_dataset = load_boston()
boston = pd.DataFrame(bost_dataset.data, columns=bost_dataset.feature_names)[['RM','LSTAT', 'CRIM']]
```
Make a boxplot for the RM variable

```python
sns.boxplot(y=boston['RM'])
plt.title('Boxplot')
```

create a function that takes in a DataFrame the factor to use for the IQR and a variable name and returns the IQR proximity rule boundaries

```python
def find_bound(df,var,distance):
    IQR = df[var].quantile(0.75) - df[var].quantile(0.25)
    lower_bound = df[var].quantile(0.25) - (IQR * distance)
    upper_bound = df[var].quantile(0.75) * (IQR * distance)

    return upper_bound, lower_bound
    ```

    
